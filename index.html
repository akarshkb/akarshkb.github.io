<html>
<script src='https://d3js.org/d3.v5.min.js'>
</script>

<head>
    <meta charset="utf-8">
    <title>CS 416 Final Project</title>
    <meta name="description" content="CS 416 Final Project">
    <meta name="author" content="Akarsh Bhagavath">
    <link rel="icon" 
      type="image/png" 
      href="favicon.ico">
</head>

<body>
    <div class='header' id='title'>
        <h1 style="text-align:center"> CS 416 Final Project </h1>
        <h3 style="text-align:center"> A compartive visualization of managers' performances at Manchester United</h3>
    </div>
    
    <script>
        prev_button = d3.select('body').append("button").text("Previous")
        next_button = d3.select('body').append("button").text("Next")
    </script>
    
    <br></br>

    <p style="text-align:center"><img src="./mu.png" class="center">
    
    <script>
        mode = 0
        prev_button.on("click", function() {
            if (mode == 6) {
                mode = 5;
                mode5Function();
            } else if (mode == 5) {
                mode = 4;
                mode4Function();
            } else if (mode == 4) {
                mode = 3;
                mode3Function();
            } else if (mode == 3) {
                mode = 2;
                mode2Function();
            } else if (mode == 2) {
                mode = 1;
                mode1Function();
            }
        });

        next_button.on("click", function(){
            if (mode == 0) {
                mode = 1;
                mode1Function();
            } else if (mode == 1){
                mode = 2;
                mode2Function();
            } else if (mode == 2) {
                mode = 3;
                mode3Function();
            } else if (mode == 3) {
                mode = 4;
                mode4Function();
            } else if (mode == 4){
                mode = 5;
                mode5Function();
            } else if (mode == 5) {
                mode = 6
                mode6Function();
            }
        });

        function mode1Function() {
            d3.select("p").html = "";
            d3.selectAll("p").remove();
            d3.selectAll("img").remove();
            d3.selectAll("svg").remove();
            d3.select("body").append("p").text("Sir Alex Ferguson \(1986-2013\)");
            d3.select("body").append("img").attr("src", "../saf.jpg").attr("width", '250');
            
            data = [895, 338, 267]

            drawPieChart(data)
        }

        function mode2Function() {
            d3.select("p").html = "";
            d3.selectAll("p").remove();
            d3.selectAll("img").remove();
            d3.selectAll("svg").remove();
            d3.select("body").append("p").text("David Moyes \(2013-2014\)");
            d3.select("body").append("img").attr("src", "./DM.jpg").attr("width", '250');

            data = [27, 9, 15]

            drawPieChart(data)
        }

        function mode3Function() {
            d3.select("p").html = "";
            d3.select("p").remove();
            d3.selectAll("img").remove();
            d3.selectAll("svg").remove();
            d3.select("body").append("p").text("Louis Van Gaal \(2014-2016\)");
            d3.select("body").append("img").attr("src", "./LVG.jpg").attr("width", '250');

            data = [54,	25,	24]

            drawPieChart(data)
        }

        function mode4Function() {
            d3.select("p").html = "";
            d3.select("p").remove();
            d3.selectAll("img").remove();
            d3.selectAll("svg").remove();
            d3.select("body").append("p").text("Jose Mourinho \(2016-2018\)");
            d3.select("body").append("img").attr("src", "./jm.jpg").attr("width", '250');

            data = [84, 32, 28]

            drawPieChart(data)
        }

        function mode5Function() {
            d3.select("p").html = "";
            d3.select("p").remove();
            d3.selectAll("img").remove();
            d3.selectAll("svg").remove();
            d3.select("body").append("p").text("Ole Gunnar Solskjaer \(2018-Present\)");
            d3.select("body").append("img").attr("src", "./ogs.jpg").attr("width", '250');

            data = [84, 34, 33]

            drawPieChart(data)
        }

        function mode6Function() {
            d3.select("p").html = "";
            d3.select("p").remove();
            d3.selectAll("img").remove();
            d3.selectAll("svg").remove();
            d3.select("body").append("p").text("Summary");
        }

        function drawPieChart(data) {
            var svg = d3.select("body").append("svg").attr("width", 500).attr("height", 500);
            svg.attr("transform", "translate(300, 300)");
            var svg = d3.select("svg"),
                width = svg.attr("width"),
                height = svg.attr("height"),
                radius = Math.min(width, height) / 2,
                g = svg.append("g").attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

            var color = ["#C70039", "#ECF0F1", "#212F3D"];

            // Generate the pie
            var pie = d3.pie()
                        .sort(null);

            // Generate the arcs
            var arc = d3.arc()
                        .innerRadius(0)
                        .outerRadius(radius);

            //Generate groups
            var arcs = g.selectAll("arc")
                        .data(pie(data))
                        .enter()
                        .append("g")
                        .attr("class", "arc")

            //Draw arc paths
            arcs.append("path")
                .attr("fill", function(d, i) {
                    return color[i];
                })
                .attr("d", arc);

        }
    </script>

</body>

</html>